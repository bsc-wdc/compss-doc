\section{Common Issues}
\label{sec:Common_Issues}

This section provides answers for the most common issues that users encounter while beginning to execute COMPSs applications.
Nevertheless, if your specific issues are not covered through this section, please do not hesitate to contact us at:
\begin{center}
  \textbf{\url{support-compss@bsc.es}}
\end{center}

\subsection{How to debug}
When the application does not behave as expected the first thing users must do is to run it in \textbf{debug} mode. We remember that
the runcompss command allows to introduce a \textit{-d} flag to enable the debug log level.

Once done, application execution will produce the following files:
\begin{itemize}
 \item runtime.log
 \item resources.log
 \item jobs folder
\end{itemize}

Firstly, users should check the last lines of the runtime.log. If the file-transfers or the tasks are failing an error message 
will appear in this file. 
Secondly, if the file-transfers are successfully and the jobs are submited, users should check the \textit{jobs} folder and look 
at the error messages produced inside each job. Users should notice that if there are $\_RESUBMITTED$ files something 
inside the job is failing.

\subsection{Tasks are not executed}
If the tasks remain in \textbf{Blocked} state means that there are no existing resouces matching the specific task constraints. 
This error can be potentially caused by two facts: in one hand, because the resources are not correctly loaded into the runtime
and, in the other hand, because the task constraints do not really match with any resource. 

In the first case, users should take a look at the \textit{resouces.log} and check that all the resources
defined in the \textit{project.xml} file are available for the runtime. In the second case users should re-define the task 
constraints taking into account the resources capabilities defined into the \textit{resources.xml} and \textit{project.xml} files.

\subsection{Jobs sistematically fail}
If all the application tasks fail because all the submited jobs fail, it is probably due to the fact that there is a resource 
missconfiguration. In most of the cases, the resource that the application is trying to access has no passwordless access through
the configured user. Users can try if this is their case by executing the following steps:
\begin{itemize}
 \item Open the project.xml that the application is using. Remember that the default file is stored under \textit{/opt/COMPSs/
 Runtime/configuration/xml/projects/project.xml}
 \item For each resource annotate its name and the value inside the \textit{User} tag. Remember that if there is no \textit{User}
 tag COMPSs will try to connect this resource with the same username than the one that launches the main application.
 \item For each annotated resourceName - user please try \textit{ssh user@resourceName}. If the connection asks for a password then
 there has been a passwordless missconfiguration.
\end{itemize}

If there has been a passwordless missconfiguration you can solve it by running the following commands:
\begin{lstlisting}[language=bash]
compss@bsc:~$ scp ~/.ssh/id_dsa.pub user@resourceName:./mydsa.pub
compss@bsc:~$ ssh user@resourceName "cat mydsa.pub >> ~/.ssh/authorized_keys; rm ./mydsa.pub"
\end{lstlisting}

These commands are a quick solution, for further details please check the \textit{Additional Configuration} section 
inside the \textit{COMPSs Installation Manual} available at our website \url{http://compss.bsc.es}.
